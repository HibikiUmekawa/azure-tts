<speak version="1.0" xml:lang="ja-JP">
    <voice name="ja-JP-NanamiNeural">
  
    ここまでで、落下物を作って、キャッチ判定とスコア加算まで完成しましたね。  
    今回は、このゲームをさらに「完成版」に近づけていきます。  
  
    テーマは、「ミス判定」と「ゲームオーバー処理」です。  
  
    <break time="1s"/>
  
    今のままだと、落下物を取り逃しても特に何も起こりません。  
    そこで今回は、「地面まで落ちたらミス」というルールを追加していきましょう。  
  
    <break time="2s"/>
  
    まず、ミスを数えるための変数を用意します。  
    ゲームの最初で、ミスの回数を0に設定しておきましょう。  
    そして、落下物が画面の下まで到達したときに、  
    ミス回数に1を足します。  
  
    たとえば、「もし落下物の位置が画面の高さより下になったら、ミスをカウントする」  
    というように書きます。  
    詳しいコードは、授業資料を見ながら確認してください。  
  
    <break time="3s"/>
  
    では、ここで実際に手を動かしてみましょう。  
    update関数の中で、落下物を削除している部分に、  
    ミスカウントの処理を追加してみてください。  
  
    「もし y が一定より大きくなったら、そのオブジェクトを削除し、ミスを1増やす」  
    というイメージです。  
    これで、取り逃がした回数を記録できるようになります。  
  
    <break time="5s"/>
  
    次に、「ゲームオーバー」の仕組みを作ります。  
    ミスが3回になったら、ゲームを終了させるようにしましょう。  
  
    まず、「ゲームが続いているかどうか」を管理する変数を追加します。  
    最初は「まだ続いている」状態にしておき、  
    ミスが3回以上になったら「ゲームオーバー」に切り替えます。  
  
    <break time="3s"/>
  
    この状態を使って、ゲームの動きを止めます。  
    update関数の最初に、「もしゲームオーバーなら動きを止める」という条件を入れましょう。  
    これで、プレイヤーも落下物も止まります。  
    書き方の例は資料を参考にしてください。  
  
    <break time="4s"/>
  
    次に、画面に「GAME OVER」と表示します。  
    draw関数の中で、画面の中央に文字を出してみましょう。  
    文字の色は赤など、目立つ色がおすすめです。  
    この部分も資料にあるサンプルを見ながら追加してみてください。  
  
    さらに、スペースキーを押したら再スタートできるようにする、  
    という機能も加えられますが、これは次回以降の発展テーマです。  
  
    <break time="5s"/>
  
    ここで一度実行してみましょう。  
    3回ミスすると「GAME OVER」と表示され、  
    ゲームの動きが止まるようになっているはずです。  
    取れなかったときに、ちゃんとミスがカウントされているか確認してみましょう。  
  
    <break time="3s"/>
  
    これで、「取る」「ミスする」「終わる」という、  
    ゲームの基本的な流れがすべて完成しました。  
  
    プレイヤーを動かしてアイテムを取る。  
    取れなければミスとしてカウントされる。  
    そして、3回ミスで終了。  
    この流れができた時点で、すでにシンプルなアクションゲームとして成立しています。  
  
    <break time="3s"/>
  
    最後にまとめです。  
    今日学んだのは、  
    一、落下物が地面に届いたときのミス判定。  
    二、ミス回数のカウント。  
    三、ゲームオーバー処理の追加。  
  
    この3つを組み合わせることで、  
    「遊び」と「ルール」を持ったゲームに仕上げることができました。  
  
    <break time="3s"/>
  
    次回の授業では、  
    いま作ったゲームに「スコア演出」と「効果音」を加えていきます。  
    画面の動きに合わせて音が鳴ると、一気に本格的なゲームらしさが出てきますよ。  
  
    それでは、今回もお疲れさまでした。  
    次の動画でお会いしましょう。  
  
    </voice>
  </speak>
  